(function(t){function e(e){for(var r,i,o=e[0],l=e[1],c=e[2],u=0,f=[];u<o.length;u++)i=o[u],s[i]&&f.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},s={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("64a9"),s=n.n(r);s.a},1:function(t,e){},2:function(t,e){},3:function(t,e){},"38e8":function(t,e,n){},4:function(t,e){},4808:function(t,e,n){"use strict";var r=n("38e8"),s=n.n(r);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("c5f6"),n("ac6a"),n("456d"),n("cadf"),n("551c"),n("f751"),n("097d");var r,s,a=n("a026"),i=n("ce5b"),o=n.n(i),l=n("0963"),c=n.n(l),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-container",{staticStyle:{margin:"18px auto 15px"},attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{sm12:"",md10:"",lg6:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center text-sm-left",attrs:{xs12:"",sm6:""}},[n("router-link",{attrs:{to:"/"}},[n("img",{staticStyle:{height:"45px"},attrs:{alt:"",src:"static/assets/i/logo.svg"}})])],1),n("v-flex",{staticClass:"text-xs-center text-sm-right",attrs:{xs12:"",sm6:""}},[n("v-btn",{attrs:{to:"/",outline:""}},[t._v("Hello")]),n("v-btn",{attrs:{to:"/trade",outline:""}},[t._v("Trade")])],1)],1)],1)],1)],1),n("web3-check",{attrs:{networks:t.network},on:{changeNetwork:t.onChangeNetwork,changeAccount:t.onChangeAccount}},[t.ready?n("router-view"):n("div",[t._v("Initialization Robonomics")])],1)],1)],1)],1)},u=[],f=n("4aac"),b=n.n(f),h=5,v={1:{ens:"",ensSuffix:"",lighthouse:"airalab.lighthouse.5.robonomics.eth"},4451:{ens:"0xaC4Ac4801b50b74aa3222B5Ba282FF54407B3941",ensSuffix:"sid",lighthouse:"airalab.lighthouse.5.robonomics.sid"}},p="QmVCPhLcGi7GussfhrCxhSb1H5FrNyrM9uR6HuLgqgwawB",m="QmUB6ajZTLLMZg7re1v4hw44aoG8HDQDHr9JyujU264Aw2",g="QmbSW1E73DKUvGDrgx8GirEVfHJLvj8RBijtH9iEZ7UecU",y="QmVAFgUxBitKqtV2sjaYcHkKfcAPVy3GswhaE5n5bcgLkf",w=null,_=0,x={repo:"ipfs/robonomics",relay:{enabled:!0,hop:{enabled:!0}},EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star","/dns4/1.wsstar.aira.life/tcp/443/wss/p2p-websocket-star/","/dns4/2.wsstar.aira.life/tcp/443/wss/p2p-websocket-star/"]},Bootstrap:["/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd","/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3","/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm","/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64","/dns4/node0.preload.ipfs.io/tcp/443/wss/ipfs/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic","/dns4/node1.preload.ipfs.io/tcp/443/wss/ipfs/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6","/dns4/1.pubsub.aira.life/tcp/443/wss/ipfs/QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8","/dns4/2.pubsub.aira.life/tcp/443/wss/ipfs/QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9"]}},k=null,j=function(t,e){return k=new b.a({web3:web3,account:{address:web3.eth.accounts[0]},ens:{address:v[e].ens,suffix:v[e].ensSuffix,version:h},messageProvider:new f["MessageProviderIpfs"](t),lighthouse:v[e].lighthouse}),k},O=function(){if(null===k)throw new Error("Robonomics not init");return k},S=O,C=n("f684"),L=n.n(C),A=null,D=function(){if(null!==A)return L.a.resolve(A);var t=function(t,e){A=new Ipfs(x),A.once("ready",function(){return A.id(function(n,r){if(n)return e(n);console.log("ipfs id "+r.id),window.ipfs=A,t(A)})})},e=function(e,n){t(e,n)};return"complete"!==document.readyState?new L.a(function(t,n){window.addEventListener("load",function(){e(t,n)})}):new L.a(function(t,n){e(t,n)})},Q=D,M=Object.keys(v).map(function(t){return Number(t)}),N={name:"app",data:function(){return{network:M,ready:!1}},mounted:function(){var t=this;c.a.store.on("load",function(e){Q().then(function(n){a["default"].prototype.$robonomics=j(n,e.networkId),t.$robonomics.ready().then(function(){t.ready=!0})})})},methods:{onChangeNetwork:function(t){!0===t.check&&window.location.reload(!1)},onChangeAccount:function(){window.location.reload(!1)}}},R=N,T=(n("034f"),n("2877")),U=Object(T["a"])(R,d,u,!1,null,null,null),E=U.exports,P=n("8c4f"),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"text-xs-center"},[t._v("Hello AIRA")]),t.robonomicsStatus?t._e():n("v-container",{staticClass:"px-3",attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Load robonomics")]),n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1),t.robonomicsStatus?n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-text",[n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{md12:""}},[t._v("\n                  Lighthouse: "),n("a",{attrs:{href:"https://etherscan.io/address/"+t.lighthouse.address,target:"blank"}},[t._v(t._s(t.lighthouse.name))]),n("v-btn",{attrs:{loading:t.loadingOrder,disabled:t.loadingOrder,color:"primary"},nativeOn:{click:function(e){return t.order(e)}}},[t._v("\n                    Say hello to Aira\n                  ")]),t.msg?n("v-alert",{attrs:{value:!0,type:"success"}},[t._v("\n                    "+t._s(t.msg)+"\n                  ")]):t._e()],1)],1)],1)],1)],1)],1)],1)],1):t._e()],1)},J=[],G=(n("7f7f"),{name:"Hello",data:function(){return{robonomicsStatus:!1,token:null,loadingOrder:!1,msg:"",model:p,lighthouse:{name:"",address:""}}},created:function(){var t=this;r=S(),r.ready().then(function(){t.token=w?new f["Token"](r.web3,w):r.xrt,t.lighthouse.name=r.lighthouse.name,t.lighthouse.address=r.lighthouse.address,r.onDemand(t.model,function(t){console.log("hello demand",t)}),t.robonomicsStatus=!0})},methods:{order:function(){var t=this;this.msg="",this.loadingOrder=!0,web3.eth.getBlock("latest",function(e,n){var s={model:t.model,objective:g,token:t.token.address,cost:_,lighthouse:r.lighthouse.address,validator:"0x0000000000000000000000000000000000000000",validatorFee:0,deadline:n.number+1e3};r.sendDemand(s,!1).then(function(){t.loadingOrder=!1,t.msg="Message sent, look in Aira console now"}).catch(function(){t.loadingOrder=!1})})}}}),V=G,I=Object(T["a"])(V,B,J,!1,null,null,null),Z=I.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"text-xs-center"},[t._v("Trade AIRA")]),t.robonomicsStatus?t._e():n("v-container",{staticClass:"px-3",attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Load robonomics")]),n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1),t.robonomicsStatus?n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-text",[n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{md12:""}},[t._v("\n                  Lighthouse:  "),n("a",{attrs:{href:"https://etherscan.io/address/"+t.lighthouse.address,target:"blank"}},[t._v(t._s(t.lighthouse.name))]),n("v-btn",{attrs:{loading:t.loadingOrder,disabled:t.loadingOrder,color:"primary"},nativeOn:{click:function(e){return t.order(e)}}},[t._v("\n                    Order\n                  ")])],1)],1)],1)],1)],1)],1)],1),t.liability?n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline mb-0"},[t._v("Result")])])]),n("v-card-text",[n("Liability",{attrs:{liability:t.liability}})],1)],1)],1)],1):t._e(),null!==t.demand?n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline mb-0"},[t._v("Demand")])])]),n("v-card-text",[n("p",{staticClass:"t-break"},[n("b",[t._v("account: ")]),t._v(t._s(t.demand.account)),n("br"),n("b",[t._v("model: ")]),t._v(t._s(t.demand.model)),n("br"),n("b",[t._v("objective: ")]),t._v(t._s(t.demand.objective)),n("br"),n("b",[t._v("token: ")]),t._v(t._s(t.demand.token)),n("br"),n("b",[t._v("cost: ")]),t._v(t._s(t.demand.cost)),n("br"),n("b",[t._v("deadline: ")]),t._v(t._s(t.demand.deadline)+"\n            ")])])],1)],1)],1):t._e()],1):t._e()],1)},W=[],F=n("cebc"),Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",{attrs:{href:"https://etherscan.io/address/"+t.liability.address,target:"_blank"}},[t._v(t._s(t.liability.address))]),n("br"),n("b",[t._v("lighthouse: ")]),n("a",{attrs:{href:"https://etherscan.io/address/"+t.liability.lighthouse,target:"_blank"}},[t._v(t._s(t.liability.lighthouse))]),n("br"),n("b",[t._v("worker: ")]),n("a",{attrs:{href:"https://etherscan.io/address/"+t.liability.worker,target:"_blank"}},[t._v(t._s(t.liability.worker))]),n("br"),n("b",[t._v("model: ")]),t._v(t._s(t.liability.model)),n("br"),n("b",[t._v("objective: ")]),t._v(t._s(t.liability.objective)),n("br"),n("b",[t._v("token: ")]),t._v(t._s(t.liability.token)),n("br"),n("b",[t._v("cost: ")]),t._v(t._s(t.liability.cost)),n("br"),n("b",[t._v("promisee: ")]),t._v(t._s(t.liability.promisee)),n("br"),n("b",[t._v("promisor: ")]),t._v(t._s(t.liability.promisor)),n("br"),""!=t.liability.result?n("span",[n("b",[t._v("Results: ")]),n("a",{attrs:{href:"https://ipfs.io/ipfs/"+t.liability.result,target:"_blank"}},[t._v(t._s(t.liability.result))]),!0===t.liability.check?n("v-icon",{attrs:{large:"",color:"green darken-2"}},[t._v("mdi-check")]):t._e(),!1===t.liability.check?n("v-icon",{attrs:{large:"",color:"blue-grey darken-2"}},[t._v("mdi-alert-circle-outline")]):t._e()],1):t._e(),""==t.liability.result?n("span",[n("b",[t._v("Results: ")]),n("v-progress-linear",{attrs:{indeterminate:!0}})],1):t._e()])},z=[],$={name:"Liability",props:["liability"]},K=$,q=(n("4808"),Object(T["a"])(K,Y,z,!1,null,null,null)),X=q.exports,tt={name:"trade",components:{Liability:X},data:function(){return{robonomicsStatus:!1,token:null,loadingOrder:!1,model:m,lighthouse:{name:"",address:""},liability:null,demand:null}},created:function(){var t=this;s=S(),s.ready().then(function(){t.token=w?new f["Token"](s.web3,w):s.xrt,t.lighthouse.name=s.lighthouse.name,t.lighthouse.address=s.lighthouse.address,s.onDemand(t.model,function(e){e.sender===s.account.address&&(t.demand=e)}),s.onResult(function(e){console.log("result unverified",e),null!==t.liability&&e.liability===t.liability.address&&t.setResult(e.result,!1)}),t.robonomicsStatus=!0})},methods:{setResult:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.liability=Object(F["a"])({},this.liability,{result:t,check:n}),0===this.liability.resultMessage.length&&(this.liability.resultMessage.push(""),Q(t,{},function(t){e.liability.resultMessage.push(t.data)}))},newLiability:function(t){var e=this;return console.log("liability demand",t.address),t.getInfo().then(function(n){return e.liability=Object(F["a"])({address:t.address,worker:t.worker},n,{resultMessage:[]}),t.watchResult(function(t){console.log("result",t),e.setResult(t,!0)}),!0}).catch(function(n){console.log(n),setTimeout(function(){e.newLiability(t)},2e3)})},order:function(){var t=this;this.demand=null,this.liability=null,this.loadingOrder=!0,web3.eth.getBlock("latest",function(e,n){var r={model:t.model,objective:y,token:t.token.address,cost:_,lighthouse:s.lighthouse.address,validator:"0x0000000000000000000000000000000000000000",validatorFee:0,deadline:n.number+1e3};s.sendDemand(r).then(function(e){return t.newLiability(e)}).then(function(){t.loadingOrder=!1}).catch(function(){t.loadingOrder=!1})})}}},et=tt,nt=Object(T["a"])(et,H,W,!1,null,null,null),rt=nt.exports;a["default"].use(P["a"]);var st=new P["a"]({routes:[{path:"/",name:"Hello",component:Z},{path:"/trade",name:"Trade",component:rt}]});n("bf40");a["default"].config.productionTip=!1,a["default"].use(o.a),c.a.store.on("update",function(t){(null!==t.state.old.account&&t.action===l["ACTIONS"].UPD_ACCOUNT||null!==t.state.old.networkId&&t.action===l["ACTIONS"].UPD_NETWORK_ID)&&window.location.reload(!1)});var at=Object.keys(v).map(function(t){return Number(t)});a["default"].use(c.a,{Web3:Web3,networks:at,requireAccount:!0}),new a["default"]({router:st,render:function(t){return t(E)}}).$mount("#app")},"64a9":function(t,e,n){}});
//# sourceMappingURL=app.1a7216cc.js.map